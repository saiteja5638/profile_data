sap.ui.define(["sap/ui/core/mvc/Controller","sap/f/library","sap/m/MessageToast"],function(e,t,r){"use strict";var a;return e.extend("seeduniqueorder.controller.Detail",{onInit:function(){a=this;if(!a.order){a.order=sap.ui.xmlfragment("seeduniqueorder.view.order",a)}},getDetail:function(){var e=a.getOwnerComponent().getModel("oGmodel");a.getView().byId("Table2").setModel(e)},onClose:function(){var e=this.oView.getParent().getParent();e.setLayout(t.LayoutType.OneColumnsMidExpanded)},Characteristic_value_search:function(e){var t=e.getParameters().newValue;var r=[];if(t&&t.length>0){r.push(new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("CHARVAL_NUM",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("CHAR_NUMVALDESC",sap.ui.model.FilterOperator.Contains,t)],and:false}))}var a=this.getView().byId("Table2");var o=a.getBinding("items");o.filter(r)},open_order_frag:function(){a.order.open();var e=a.getOwnerComponent().getModel("oGmodel1");var t=e.oData.items;sap.ui.getCore().byId("Configurable_Product_1").setValue(t[0].prod);sap.ui.getCore().byId("UniqueType_1").setValue(t[0].uid)},close_order_frag:function(){a.order.close();sap.ui.getCore().byId("ActiveStatus_1").setValue("");sap.ui.getCore().byId("Date_range_1").setValue("")},Submit_order:function(){a.close_order_frag();var e=sap.ui.getCore().byId("Configurable_Product_1").getValue();var t=sap.ui.getCore().byId("UniqueType_1").getValue();var o=sap.ui.getCore().byId("ActiveStatus_1").getValue();var i=sap.ui.getCore().byId("Date_range_1").getValue();var n=new Date;var s=sap.ui.core.format.DateFormat.getDateInstance({pattern:"dd/MM/yyyy"});var l=s.format(n);var u=a.getOwnerComponent().getModel("oData");u.read("/ORDERS",{success:function(a){var n={SEEDORDER:"SE0000"+(a.results.length+1),PRODUCT:e,UNIQUEID:t,ORDERQUANTITY:parseInt(o),MATERIALAVAILDATE:i,CREADTEDDATE:l};var s=[];s.push(n);u.callFunction("/seed_order",{method:"GET",urlParameters:{FLAG:"O",Data:JSON.stringify(s)},success:function(){console.log("Successfully Triggred")},err:function(e){console.log(e)}});r.show(n.SEEDORDER+"HAS BEEN SUCCESSFULLY  CREATED")},err:function(e){console.log(e)}})},Search_filter:function(e){var t=e.getParameters().newValue;var r=[];if(t&&t.length>0){r.push(new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("CHARVAL_NUM",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("CHAR_NUMVALDESC",sap.ui.model.FilterOperator.Contains,t)],and:false}))}var a=this.getView().byId("Table2");var o=a.getBinding("items");o.filter(r)}})});